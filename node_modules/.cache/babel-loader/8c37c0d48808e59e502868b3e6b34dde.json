{"ast":null,"code":"import _objectSpread from\"/home/juan/dev/portfolio/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/juan/dev/portfolio/react-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef}from'react';import{NotesAppBar}from'./NotesAppBar';import{useDispatch,useSelector}from'react-redux';import{useForm}from'../../hooks/useForm';import{activeNote,startDeleting}from'../../actions/notes';export var NoteScreen=function NoteScreen(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.notes;}),note=_useSelector.active;var _useForm=useForm(note),_useForm2=_slicedToArray(_useForm,3),formValues=_useForm2[0],handleInputChange=_useForm2[1],reset=_useForm2[2];var body=formValues.body,title=formValues.title,id=formValues.id;var activeId=useRef(note.id);useEffect(function(){if(note.id!==activeId.current){reset(note);activeId.current=note.id;}},[note,reset]);useEffect(function(){dispatch(activeNote(formValues.id,_objectSpread({},formValues)));},[formValues,dispatch]);var handleDelete=function handleDelete(){dispatch(startDeleting(id));};return/*#__PURE__*/React.createElement(\"div\",{className:\"notes__main-content\"},/*#__PURE__*/React.createElement(NotesAppBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"notes__content\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Some awesome title\",autoComplete:\"off\",className:\"input notes__title-input\",name:\"title\",value:title,onChange:handleInputChange}),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"What happened today?\",className:\"notes__textarea\",name:\"body\",value:body,onChange:handleInputChange}),note.url&&/*#__PURE__*/React.createElement(\"div\",{className:\"notes__image\"},/*#__PURE__*/React.createElement(\"img\",{src:note.url,alt:note.title}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:handleDelete},\"Delete\"));};","map":{"version":3,"sources":["/home/juan/dev/portfolio/react-2/src/components/notes/NoteScreen.js"],"names":["React","useEffect","useRef","NotesAppBar","useDispatch","useSelector","useForm","activeNote","startDeleting","NoteScreen","dispatch","state","notes","note","active","formValues","handleInputChange","reset","body","title","id","activeId","current","handleDelete","url"],"mappings":"6SAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAA0C,OAA1C,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,UAAT,CAAqBC,aAArB,KAA0C,qBAA1C,CAIA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAE9B,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAF8B,iBAIRC,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACC,KAAV,EAAN,CAJH,CAIhBC,IAJgB,cAIvBC,MAJuB,cAKiBR,OAAO,CAACO,IAAD,CALxB,sCAKvBE,UALuB,cAKXC,iBALW,cAKQC,KALR,iBAMtBC,CAAAA,IANsB,CAMFH,UANE,CAMtBG,IANsB,CAMhBC,KANgB,CAMFJ,UANE,CAMhBI,KANgB,CAMTC,EANS,CAMFL,UANE,CAMTK,EANS,CAQ9B,GAAMC,CAAAA,QAAQ,CAAGnB,MAAM,CAACW,IAAI,CAACO,EAAN,CAAvB,CAEAnB,SAAS,CAAC,UAAM,CAEd,GAAIY,IAAI,CAACO,EAAL,GAAYC,QAAQ,CAACC,OAAzB,CAAkC,CAChCL,KAAK,CAACJ,IAAD,CAAL,CACAQ,QAAQ,CAACC,OAAT,CAAmBT,IAAI,CAACO,EAAxB,CACD,CAEF,CAPQ,CAON,CAACP,IAAD,CAAOI,KAAP,CAPM,CAAT,CASAhB,SAAS,CAAC,UAAK,CACbS,QAAQ,CAACH,UAAU,CAAEQ,UAAU,CAACK,EAAb,kBAAqBL,UAArB,EAAX,CAAR,CACD,CAFQ,CAEN,CAACA,UAAD,CAAaL,QAAb,CAFM,CAAT,CAIA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBb,QAAQ,CAACF,aAAa,CAACY,EAAD,CAAd,CAAR,CACD,CAFD,CAIA,mBACE,2BAAK,SAAS,CAAC,qBAAf,eACE,oBAAC,WAAD,MADF,cAGE,2BAAK,SAAS,CAAC,gBAAf,eACE,6BACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,oBAFd,CAGE,YAAY,CAAC,KAHf,CAIE,SAAS,CAAC,0BAJZ,CAKE,IAAI,CAAC,OALP,CAME,KAAK,CAAED,KANT,CAOE,QAAQ,CAAEH,iBAPZ,EADF,cAWE,gCACE,WAAW,CAAC,sBADd,CAEE,SAAS,CAAC,iBAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAEE,IAJT,CAKE,QAAQ,CAAEF,iBALZ,EAXF,CAsBOH,IAAI,CAACW,GAAN,eACA,2BACF,SAAS,CAAC,cADR,eAGE,2BACE,GAAG,CAAEX,IAAI,CAACW,GADZ,CAEE,GAAG,CAAEX,IAAI,CAACM,KAFZ,EAHF,CAvBN,CAHF,cAuCE,8BACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAEI,YAFX,WAvCF,CADF,CAgDD,CA3EM","sourcesContent":["import React, { useEffect, useRef }  from 'react'\nimport { NotesAppBar } from './NotesAppBar'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from '../../hooks/useForm';\nimport { activeNote, startDeleting } from '../../actions/notes';\n\n\n\nexport const NoteScreen = () => {\n\n  const dispatch = useDispatch()\n\n  const {active:note} = useSelector(state => state.notes)\n  const [formValues, handleInputChange, reset] = useForm(note);\n  const { body, title, id } = formValues;\n\n  const activeId = useRef(note.id)\n\n  useEffect(() => {\n    \n    if (note.id !== activeId.current) {\n      reset(note);\n      activeId.current = note.id\n    }\n\n  }, [note, reset])\n\n  useEffect(()=> {\n    dispatch(activeNote( formValues.id, {...formValues} ))\n  }, [formValues, dispatch])\n\n  const handleDelete = () => {\n    dispatch(startDeleting(id));\n  }\n\n  return (\n    <div className='notes__main-content'>\n      <NotesAppBar />\n\n      <div className='notes__content'>\n        <input \n          type='text'\n          placeholder='Some awesome title'\n          autoComplete='off'\n          className='input notes__title-input'\n          name='title'\n          value={title}\n          onChange={handleInputChange}\n        />\n\n        <textarea\n          placeholder='What happened today?'\n          className='notes__textarea'\n          name='body'\n          value={body}\n          onChange={handleInputChange}\n        >\n        </textarea>\n\n        \n          {\n            (note.url) &&\n            <div \n          className='notes__image'\n          >\n              <img \n                src={note.url}\n                alt={note.title}\n              />\n            </div>\n          }\n\n\n\n      </div>\n      <button\n        className='btn btn-danger'\n        onClick={handleDelete}\n      >\n        Delete\n      </button>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}